!function(e){var r={};function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(o,n,function(r){return e[r]}.bind(null,n));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=105)}({105:function(e,r){jQuery(document).ready((function(){var e=window._;jQuery("#module-order-course").select2({width:"resolve"}),jQuery(".sortable-module-list").sortable(),jQuery(".sortable-tab-list").disableSelection(),jQuery(".sortable-module-list").bind("sortstop",(function(){var e="";jQuery(this).find(".module").each((function(r){r>0&&(e+=","),e+=jQuery(this).find("span").attr("rel")})),jQuery('input[name="module-order"]').val(e)})),jQuery("select.ajax_chosen_select_courses").select2({minimumInputLength:2,placeholder:window.modulesAdmin.selectplaceholder,width:"300px",multiple:!0,ajax:{url:ajaxurl,delay:250,dataType:"json",cache:!0,data:function(e){return{term:e.term,page:e.page||1,action:"sensei_json_search_courses",security:window.modulesAdmin.search_courses_nonce,default:""}},processResults:function(e,r){var t=[];return jQuery.each(e,(function(e,r){if(!jQuery.isEmptyObject(r)){var o={id:e,text:r};t.push(o)}})),{results:t,page:r}}}}),jQuery("#sensei-module-add-toggle").on("click",(function(){var e="wp-hidden-child",r=jQuery(this).parent().next("p#sensei-module-add"),t=r.children("#newmodule");if(r.hasClass(e))return r.removeClass(e),t.val(""),void t.focus();r.addClass(e)})),jQuery("#sensei-module-add-submit").on("click",(function(){var r=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))}("post"),t=jQuery(this).parent().children("#newmodule"),o=jQuery(this).parent().children("#add_module_nonce"),n=jQuery("#module_course_mb #taxonomy-module #module-all ul#modulechecklist"),u=t.val(),s=o.val();if(e.isEmpty(u)||e.isEmpty(s))t.focus();else{var l={newTerm:u,security:s,action:"sensei_add_new_module_term",course_id:r,from_page:"course"};jQuery.post(ajaxurl,l,(function(r){var o,u;if(r.success){if(o=r.data.termId,u=r.data.termName,!(parseInt(o)>0)||e.isEmpty(u))return void t.focus();var s='<li id="module-'+o+'">';return s+='<label class="selectit">',s+='<input value="'+o+'" type="checkbox" checked="checked" name="tax_input[module][]" id="in-module-'+o+'">',s+=u,s+="</label></li>",n.prepend(s),t.val(""),void t.focus()}if(void 0!==r.data.errors&&void 0!==r.data.errors.term_exists){o=r.data.term.id;var l=n.find("#module-"+o+" input");l.prop("checked","checked"),l.focus(),t.val("")}}))}}));var r=document.querySelector('select[name="sensei-course-teacher-author"]');r&&r.addEventListener("change",(function(){var e=document.querySelector("#module_course_mb");e&&e.parentNode.removeChild(e)}));var t=jQuery("#lesson-course-options"),o=jQuery("div#lesson-module-metabox-select");t.on("change",(function(){if(window.modulesAdmin.getCourseModulesNonce){var e=t.val(),r={security:window.modulesAdmin.getCourseModulesNonce,action:"sensei_get_course_modules",course_id:e};r.course_id&&jQuery.post(ajaxurl,r,(function(e){if(!0===e.success){var r=e.data.content;o.html(r),jQuery("select#lesson-module-options").select2({width:"resolve"})}}))}}))}))}});