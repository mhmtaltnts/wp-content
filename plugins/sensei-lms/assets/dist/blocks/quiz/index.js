!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=149)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t,n){var r=n(10);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.blockEditor},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var c=s.apply(null,r);c&&e.push(c)}else if("object"===o)for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(25),s=n(26),o=n(18),c=n(27);e.exports=function(e,t){return r(e)||s(e,t)||o(e,t)||c()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.lodash},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(36),s=n(37),o=n(18),c=n(38);e.exports=function(e){return r(e)||s(e)||o(e)||c()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(33);e.exports=function(e,t){if(null==e)return{};var n,s,o=r(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(s=0;s<c.length;s++)n=c[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.blocks},,,,function(e,t){e.exports=window.wp.compose},function(e,t,n){var r=n(19);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return a}));var r=n(0),s=n(2),o=Object(r.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(s.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),c=Object(r.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(s.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),i=Object(r.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(s.Path,{d:"M9 18.6L3.5 13l1-1L9 16.4l9.5-9.9 1 1z"})),l=Object(r.createElement)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(s.Path,{d:"M19 6.5H5c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7c0-1.1-.9-2-2-2zm.5 9c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v7zM8 13h8v-1.5H8V13z"})),a=Object(r.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(s.Path,{d:"M13 7h-2v6h2V7zM13 15h-2v2h2v-2z"}),Object(r.createElement)(s.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0z"}))},function(e,t){e.exports=window.wp.hooks},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return d}));var r=n(6),s=n.n(r),o=n(0),c=n(2),i=function(e){return Object(o.createElement)(c.SVG,s()({},e,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}),Object(o.createElement)(c.Path,{d:"M20 16V4H4v12h16z"}),Object(o.createElement)(c.Path,{d:"M18.5 5.5v9h-13v-9h13zM20 16H4V4h16v12zM6 20h2.222L11 16H8.778L6 20zM18 20h-2.222L13 16h2.222L18 20z"}))},l=function(){return Object(o.createElement)(c.SVG,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)(c.Rect,{stroke:"currentColor",fill:"transparent",x:"-0.75",y:"-0.75",width:"10",height:"14.5",transform:"matrix(4.37114e-08 -1 -1 -4.37114e-08 18.5 14)",strokeWidth:"1.5"}),Object(o.createElement)(c.Path,{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M8 12L16 12L16 8L8 8L8 12Z"}),Object(o.createElement)(c.Path,{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M7.2215 19.8616L10.7791 14.8707L9.55762 14L6.00005 18.9909L7.2215 19.8616Z"}),Object(o.createElement)(c.Path,{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M16.5578 19.8616L13.0002 14.8707L14.2217 14L17.7792 18.9909L16.5578 19.8616Z"}))},a=function(){return Object(o.createElement)(c.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)(c.Path,{d:"m4 4v12h4.7773l-2.7773 4h2.2227l2.7773-4h2l2.7773 4h2.2227l-2.7773-4h4.7773v-12zm1.5 1.5h13v9h-13zm3.5 2.5v1.5h6v-1.5zm0 3v1.5h6v-1.5z",clipRule:"evenodd",fillRule:"evenodd"}))},u=function(){return Object(o.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(c.Path,{d:"M16.181 17.381a7.61 7.61 0 01-2.13.133L15.778 20H18l-1.819-2.619zm-5.479-.953a7.712 7.712 0 01-2.12-1.928H5.5v-9h2.759A7.793 7.793 0 019.523 4H4v12h4.778L6 20h2.222l2.48-3.572z"}),Object(o.createElement)(c.Path,{d:"M15.541 8.944h-1.5v3.997h1.5V8.944zM15.541 7.944h-1.5V6.55h1.5v1.395z"}),Object(o.createElement)(c.Path,{d:"M20.79 9.768c0 3.425-2.714 6.269-6.145 6.269-3.43 0-6.145-2.844-6.145-6.269 0-3.424 2.714-6.268 6.145-6.268 3.43 0 6.145 2.844 6.145 6.268zm-6.145 4.769c2.565 0 4.645-2.135 4.645-4.769C19.29 7.135 17.21 5 14.645 5 12.08 5 10 7.135 10 9.768c0 2.634 2.08 4.769 4.645 4.769z"}))},b=function(){return Object(o.createElement)(c.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)(c.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 5.5v9h-13v-9h13zM20 16H4V4h16v12z"}),Object(o.createElement)(c.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12h6V8H9v4zM6 20h2.222L11 16H8.778L6 20zM18 20h-2.222L13 16h2.222L18 20z"}))},m=function(){return Object(o.createElement)(c.SVG,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)(c.Rect,{x:"2.75",y:"7.75",width:"18.5",height:"6.5",rx:"3.25",stroke:"currentColor",strokeWidth:"1.5",fillOpacity:"0"}),Object(o.createElement)(c.Path,{d:"M6 7.75 H 16.7 L 10.2 14.25 H 6 C 4.2 14.25 2.75 12.8 2.75 11 C 2.75 9.2 4.2 7.75 6 7.75Z",strokeWidth:"1.5"}))},d=function(e){return Object(o.createElement)(c.SVG,s()({},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256.000000 256.000000",preserveAspectRatio:"xMidYMid meet"}),Object(o.createElement)(c.G,{transform:"translate(0.000000,256.000000) scale(0.100000,-0.100000)",stroke:"none"},Object(o.createElement)(c.Path,{d:"M1174 2541 c-28 -3 -58 -12 -67 -19 -9 -8 -25 -11 -37 -7 -11 3 -20 2 -20 -4 0 -5 -11 -8 -25 -5 -14 2 -25 0 -25 -6 0 -5 -13 -10 -30 -10 -16 0 -30 -4 -30 -9 0 -4 -23 -11 -52 -14 -28 -4 -54 -11 -58 -16 -3 -6 -25 -13 -48 -17 -23 -3 -39 -10 -37 -15 3 -4 -10 -11 -30 -15 -19 -3 -33 -9 -31 -13 2 -3 -15 -15 -37 -26 -23 -11 -48 -26 -55 -32 -7 -7 -19 -13 -27 -13 -7 0 -15 -7 -19 -15 -3 -8 -12 -15 -21 -15 -8 0 -15 -4 -15 -9 0 -5 -8 -12 -17 -15 -47 -15 -189 -157 -290 -291 -5 -5 -32 -59 -61 -120 -29 -60 -58 -118 -63 -127 -5 -10 -9 -25 -9 -33 0 -10 -5 -13 -11 -9 -9 5 -10 -1 -5 -20 4 -15 2 -26 -4 -26 -5 0 -9 -10 -9 -22 1 -23 -13 -104 -31 -186 -13 -54 -13 -254 -1 -301 6 -20 15 -71 22 -114 7 -43 15 -80 20 -82 4 -3 5 -15 1 -27 -3 -14 -2 -19 6 -14 7 4 12 2 12 -4 0 -6 14 -38 30 -72 17 -33 30 -64 30 -70 0 -5 7 -16 15 -24 8 -9 15 -24 15 -35 0 -10 4 -19 8 -19 5 0 14 -10 19 -23 23 -47 145 -179 177 -191 10 -3 16 -12 13 -21 -4 -8 -1 -12 6 -10 7 3 34 -16 60 -40 27 -25 53 -45 59 -45 6 0 19 -9 29 -21 9 -11 29 -21 43 -23 14 -1 29 -5 32 -9 3 -3 12 -3 20 0 8 3 14 -1 14 -11 0 -9 -8 -16 -17 -16 -14 0 -9 -8 16 -30 18 -17 38 -30 43 -30 6 0 8 -6 5 -13 -4 -10 2 -13 20 -9 18 3 24 1 19 -6 -4 -7 3 -14 19 -18 14 -3 25 -10 25 -14 0 -4 18 -10 40 -14 22 -3 40 -11 40 -17 0 -6 7 -9 15 -5 9 3 21 -4 31 -19 9 -14 25 -25 35 -25 10 0 20 -4 23 -9 4 -5 25 -12 49 -16 23 -4 47 -11 53 -16 12 -10 246 -5 263 5 5 4 12 2 16 -4 8 -13 41 -13 82 2 27 10 38 10 53 0 27 -17 71 -15 109 4 28 14 56 21 99 26 6 1 12 5 12 10 0 4 11 8 25 8 14 0 25 4 25 10 0 5 15 12 33 15 19 4 40 15 47 25 10 14 22 17 51 13 26 -4 39 -2 39 6 0 6 5 11 11 11 6 0 27 13 46 30 18 16 44 30 58 30 13 0 26 6 28 13 4 9 8 8 16 -3 7 -10 11 -11 11 -2 0 6 6 12 13 12 18 0 49 24 134 104 40 38 73 75 73 83 0 7 4 13 8 13 5 0 17 16 28 35 10 19 22 35 25 35 4 0 10 11 13 25 4 14 11 23 16 20 6 -3 10 1 10 9 0 21 42 116 51 116 4 0 10 13 14 30 4 16 11 30 16 30 5 0 9 9 9 20 0 11 5 20 11 20 6 0 8 9 4 20 -3 11 -2 20 3 20 5 0 18 40 30 90 18 71 22 120 22 240 0 82 -4 169 -10 192 -5 24 -17 97 -26 163 -9 66 -19 122 -23 125 -3 3 -15 30 -25 60 -11 30 -26 66 -33 80 -7 14 -13 31 -13 38 0 6 -4 12 -10 12 -5 0 -12 11 -16 25 -3 14 -10 25 -14 25 -4 0 -10 8 -14 18 -6 20 -25 50 -43 70 -7 7 -13 18 -13 23 0 5 -5 15 -10 22 -41 48 -50 62 -50 74 0 7 -5 13 -11 13 -6 0 -9 7 -6 14 4 10 1 13 -8 10 -8 -4 -20 6 -28 23 -13 25 -170 181 -209 208 -31 22 -54 35 -73 44 -11 5 -30 18 -42 30 -12 11 -33 23 -47 27 -14 3 -26 10 -26 15 0 5 -8 9 -17 9 -10 0 -31 7 -47 15 -15 8 -35 15 -42 15 -8 0 -14 4 -14 10 0 5 -10 10 -22 10 -13 0 -63 6 -113 13 -111 18 -313 27 -381 18z m381 -201 c-4 -6 6 -10 22 -10 45 0 103 -12 98 -20 -3 -4 14 -10 37 -13 22 -3 44 -10 47 -15 3 -5 20 -13 37 -16 17 -4 40 -15 50 -25 11 -9 22 -18 26 -19 24 -8 44 -17 54 -26 6 -6 22 -18 35 -26 38 -24 169 -161 169 -176 0 -8 5 -14 11 -14 6 0 9 -7 6 -14 -4 -10 -1 -13 9 -9 10 4 12 0 7 -13 -4 -12 -3 -15 5 -10 7 4 12 1 12 -7 0 -8 7 -20 16 -28 9 -7 14 -22 11 -35 -3 -15 0 -21 9 -17 8 3 16 -5 20 -21 3 -14 10 -26 14 -26 5 0 12 -20 16 -45 3 -25 10 -45 15 -45 5 0 9 -7 9 -16 0 -9 6 -28 14 -42 24 -48 46 -102 46 -117 0 -7 6 -15 13 -17 16 -6 18 -455 1 -466 -6 -4 -14 -42 -17 -86 -3 -43 -10 -83 -16 -89 -6 -6 -11 -19 -11 -30 0 -10 -4 -16 -9 -13 -5 3 -11 -17 -15 -44 -4 -28 -10 -50 -15 -50 -5 0 -11 -14 -15 -31 -4 -23 -10 -30 -21 -25 -9 3 -13 2 -10 -4 10 -16 -5 -52 -20 -46 -8 3 -11 -2 -8 -13 3 -11 -8 -32 -29 -53 -18 -20 -42 -47 -54 -59 -27 -30 -105 -99 -134 -119 -12 -8 -28 -21 -36 -27 -7 -7 -15 -13 -19 -13 -4 0 -14 -7 -22 -16 -9 -8 -24 -13 -34 -11 -10 3 -16 0 -14 -7 4 -11 -57 -56 -76 -56 -5 0 -9 -4 -9 -10 0 -5 -18 -13 -40 -16 -22 -4 -37 -10 -34 -15 3 -5 -6 -9 -19 -9 -13 0 -27 -3 -31 -7 -7 -7 -18 -11 -68 -20 -18 -3 -39 -10 -46 -16 -8 -6 -113 -9 -285 -9 -149 1 -278 -2 -285 -7 -9 -5 -31 0 -60 15 -26 12 -54 24 -62 26 -8 2 -22 10 -30 19 -8 9 -25 19 -37 23 -13 4 -23 11 -23 16 0 5 -16 12 -35 16 -19 3 -35 10 -35 14 0 4 -16 11 -36 15 -20 3 -42 12 -49 18 -7 7 -29 26 -49 42 -76 62 -142 138 -140 161 1 7 -4 10 -11 7 -15 -5 -30 31 -20 47 3 6 0 7 -9 4 -10 -4 -18 1 -23 12 -3 11 -9 21 -12 24 -15 13 -60 114 -54 123 3 6 1 7 -5 3 -7 -4 -13 7 -18 29 -3 19 -10 35 -15 35 -5 0 -9 6 -9 14 0 7 -7 27 -15 42 -8 16 -15 41 -15 56 0 15 -4 29 -9 33 -6 3 -13 37 -17 75 -4 39 -11 73 -15 76 -5 3 -9 73 -9 155 0 83 4 148 9 145 4 -3 11 27 15 67 4 40 11 74 16 75 6 2 10 15 10 29 0 14 7 40 15 59 8 19 22 49 30 68 8 19 15 39 15 45 0 6 4 11 9 11 5 0 12 14 16 30 4 17 10 30 15 30 4 0 10 8 14 18 9 28 80 129 101 144 5 4 6 8 2 8 -4 0 11 20 34 45 24 25 49 43 55 41 8 -3 11 1 7 9 -3 9 4 19 18 25 13 5 33 16 44 22 18 12 24 17 57 43 28 23 119 75 131 75 6 0 21 7 31 15 11 8 28 15 38 15 10 0 18 4 18 9 0 5 19 12 43 16 23 4 45 12 48 17 3 5 31 12 62 15 31 3 54 10 51 14 -3 5 108 9 246 9 165 0 249 -3 245 -10z"}),Object(o.createElement)(c.Path,{d:"M820 1920 c0 -5 -6 -10 -12 -10 -26 -1 -58 -38 -58 -67 0 -26 9 -38 50 -63 12 -7 12 -12 1 -34 -11 -21 -17 -23 -32 -13 -13 8 -15 13 -6 19 7 5 -1 8 -20 8 -18 0 -33 -4 -33 -10 0 -5 -19 -10 -42 -10 -40 -1 -88 -26 -88 -45 0 -14 43 -45 61 -45 9 0 19 -5 21 -12 3 -9 12 -9 36 1 41 17 47 11 31 -33 -10 -29 -11 -43 -1 -68 14 -38 2 -56 -22 -32 -13 12 -28 15 -63 11 -25 -3 -49 -10 -53 -17 -4 -7 -17 -10 -29 -7 -12 3 -19 1 -15 -5 3 -5 -2 -18 -12 -29 -22 -24 -10 -52 25 -57 11 -2 21 -8 21 -13 0 -5 29 -9 65 -9 37 0 65 4 65 10 0 12 77 14 82 2 2 -4 18 -18 36 -31 18 -13 31 -25 29 -28 -3 -2 -42 -6 -88 -9 -46 -3 -86 -9 -89 -14 -3 -6 -41 -13 -83 -16 -42 -4 -77 -11 -77 -17 0 -5 -9 -7 -19 -4 -14 3 -18 1 -14 -9 3 -8 0 -14 -6 -14 -6 0 -11 -9 -11 -20 0 -11 7 -20 15 -20 8 0 15 -4 15 -9 0 -5 25 -12 55 -16 30 -3 53 -10 50 -14 -6 -11 184 -24 229 -16 20 4 36 11 36 16 0 5 21 9 48 9 66 0 88 8 100 36 10 20 16 23 44 18 42 -8 88 -27 88 -36 0 -5 3 -8 8 -7 15 2 52 -14 52 -22 0 -5 3 -8 8 -7 4 1 18 -2 30 -6 18 -6 30 -2 48 15 13 12 24 18 24 12 0 -6 -16 -25 -35 -42 -19 -17 -35 -35 -35 -40 0 -5 -5 -11 -11 -13 -6 -2 -11 -29 -11 -61 -1 -55 1 -59 44 -102 26 -26 59 -48 77 -51 17 -4 31 -10 31 -15 0 -4 21 -9 48 -11 42 -3 47 -6 47 -27 0 -17 -11 -29 -40 -45 -22 -11 -42 -24 -45 -27 -7 -8 -53 -24 -62 -21 -5 1 -8 -3 -8 -8 0 -6 -9 -10 -19 -10 -11 0 -22 -4 -25 -9 -3 -5 -32 -12 -63 -16 -32 -4 -60 -11 -63 -15 -3 -5 -41 -12 -85 -16 -44 -4 -82 -10 -85 -14 -3 -4 -32 -11 -64 -16 -70 -11 -89 -34 -27 -34 22 0 43 -4 46 -10 7 -12 102 -13 107 -2 2 5 38 12 81 15 75 7 79 6 104 -19 14 -14 41 -28 59 -31 19 -3 34 -10 34 -14 0 -5 18 -9 40 -9 22 0 40 4 40 9 0 5 20 12 45 15 25 4 45 10 45 14 0 11 77 42 104 42 14 0 28 5 31 10 3 6 22 10 41 10 26 0 34 4 34 18 0 10 -11 25 -25 32 -20 11 -25 21 -25 52 0 21 4 38 9 38 5 0 13 9 16 20 4 11 17 32 31 47 31 33 31 74 -1 121 -14 20 -25 32 -25 27 0 -5 -5 -4 -12 3 -7 7 -20 12 -31 12 -10 0 -16 4 -13 9 6 8 -63 21 -115 21 -16 0 -29 5 -29 10 0 6 -9 10 -21 10 -26 0 -59 18 -59 32 0 15 48 58 65 58 7 0 15 5 17 11 2 5 22 13 46 16 23 3 39 9 36 14 -2 4 18 11 45 15 28 4 48 10 46 14 -3 5 23 10 57 12 50 3 67 0 80 -13 16 -16 38 -17 230 -12 222 6 238 10 238 52 0 14 -8 23 -25 27 -14 3 -25 10 -25 15 0 6 -12 8 -27 7 -20 -2 -28 2 -31 16 -2 11 -10 25 -17 33 -7 7 -15 18 -17 24 -2 7 -30 14 -61 17 -31 2 -57 8 -57 12 0 5 -28 11 -62 15 -35 4 -69 12 -75 17 -9 7 -13 7 -13 -1 0 -6 -11 -11 -25 -11 -14 0 -25 -5 -25 -11 0 -7 -14 -8 -40 -4 -23 4 -40 3 -40 -3 0 -5 -25 -12 -57 -15 -31 -3 -59 -11 -63 -16 -3 -6 -25 -12 -48 -13 -49 -2 -82 -27 -82 -64 0 -19 6 -26 30 -30 67 -14 14 -32 -72 -25 -16 1 -28 -2 -28 -7 0 -5 -8 -12 -17 -15 -10 -2 -27 -8 -38 -12 -11 -4 -15 -3 -9 2 15 12 13 52 -4 46 -20 -8 -38 25 -36 68 2 45 18 69 45 69 11 0 19 4 19 9 0 6 63 12 143 15 193 7 207 8 207 18 0 4 13 8 30 8 19 0 33 7 40 19 11 21 4 51 -12 51 -6 0 -8 6 -5 13 4 10 -3 12 -24 9 -16 -2 -29 0 -29 5 0 6 -44 13 -97 16 -54 4 -99 11 -101 17 -6 16 -134 12 -156 -5 -11 -9 -41 -15 -68 -15 -28 0 -48 -5 -48 -11 0 -6 -7 -9 -14 -6 -10 4 -13 1 -9 -9 3 -7 0 -14 -6 -14 -6 0 -11 -7 -11 -15 0 -21 41 -66 60 -64 40 4 45 -2 20 -21 -14 -11 -30 -20 -36 -20 -6 0 -17 -7 -24 -15 -7 -8 -21 -15 -30 -15 -10 0 -20 -5 -22 -12 -3 -7 -32 -14 -74 -16 -38 -3 -78 -11 -89 -18 -23 -16 -61 -18 -70 -4 -4 6 10 10 34 10 23 0 41 3 41 8 0 4 -19 16 -43 27 -53 25 -62 34 -63 65 -2 42 50 69 133 71 110 2 123 6 123 40 0 16 -5 29 -11 29 -6 0 -9 6 -6 13 3 7 -3 13 -12 14 -9 1 -38 5 -64 9 -38 5 -59 2 -95 -14 -26 -11 -59 -25 -74 -31 -35 -13 -36 -34 -3 -49 32 -15 31 -22 -6 -50 -24 -20 -32 -22 -44 -12 -8 7 -15 17 -15 22 0 6 -10 24 -22 40 -19 28 -20 31 -5 40 10 5 17 17 17 26 1 21 37 65 66 80 15 8 39 8 87 -1 87 -14 118 -2 115 45 l-3 33 -80 3 c-64 2 -85 -1 -107 -16 -29 -19 -88 -99 -88 -119 0 -7 -4 -13 -10 -13 -17 0 -11 58 10 95 11 20 20 42 20 51 0 8 7 17 15 20 8 4 15 14 15 24 0 16 6 18 35 13 23 -4 35 -2 35 6 0 6 11 11 23 11 13 0 34 8 45 19 23 19 30 51 11 51 -6 0 -8 7 -5 16 4 9 2 13 -5 8 -6 -4 -15 -1 -19 6 -4 7 -31 15 -59 18 -28 2 -51 8 -51 13 0 5 -11 9 -25 9 -14 0 -25 -4 -25 -10z"})))}},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=window.wp.dataControls},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],_n=!0,r=!1,s=void 0;try{for(var o,c=e[Symbol.iterator]();!(_n=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);_n=!0);}catch(i){r=!0,s=i}finally{try{_n||null==c.return||c.return()}finally{if(r)throw s}}return n}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},,function(e,t){e.exports=window.wp.primitives},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n(4),s=function(e,t,n,r){return regeneratorRuntime.mark((function s(){var o,c=arguments;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e){s.next=3;break}return s.next=3,{type:e};case 3:return s.prev=3,s.delegateYield(t.apply(void 0,c),"t0",5);case 5:return o=s.t0,s.next=8,{type:n,data:o};case 8:s.next=14;break;case 10:return s.prev=10,s.t1=s.catch(3),s.next=14,{type:r,error:s.t1};case 14:case"end":return s.stop()}}),s,null,[[3,10]])}))},o=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments.length>1?arguments[1]:void 0,s=e[r.type]||e.DEFAULT;return s(r,n)}},c=function(e,t){if(r.createReduxStore){var n=Object(r.createReduxStore)(e,t);return Object(r.register)(n),n}return Object(r.registerStore)(e,t),e}},function(e,t){e.exports=window.wp.url},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s},e.exports.default=e.exports,e.exports.__esModule=!0},,,function(e,t,n){var r=n(19);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(12),s=n.n(r),o=n(13),c=n(22);t.a=function(e){Object(o.updateCategory)("sensei-lms",{icon:Object(c.g)({width:"20",height:"20"})}),e.forEach((function(e){var t=e.name,n=s()(e,["name"]);Object(o.registerBlockType)(t,n)}))}},,function(e,t){e.exports=window.wp.keycodes},,,,function(e,t,n){"use strict";var r,s=n(32),o=n(23);n.n(o).a.use((r={},function(e,t){return"string"!=typeof e.path||"GET"!==e.method&&e.method||(r[e.path]?e.path=Object(s.addQueryArgs)(e.path,{__skip_preload:1}):r[e.path]=!0),t(e)}))},function(e,t,n){"use strict";var r=n(50);t.a=r.a},function(e,t,n){"use strict";var r=n(6),s=n.n(r),o=n(12),c=n.n(o),i=n(0),l=n(7),a=n.n(l),u=n(2),b=n(1);t.a=function(e){var t=e.className,n=e.id,r=e.label,o=e.value,l=e.help,m=e.allowReset,d=void 0!==m&&m,p=e.resetLabel,f=e.onChange,v=e.suffix,O=c()(e,["className","id","label","value","help","allowReset","resetLabel","onChange","suffix"]);return Object(i.createElement)(u.BaseControl,{id:n,label:r,help:l},Object(i.createElement)("div",{className:"sensei-number-control"},Object(i.createElement)("div",{className:"sensei-number-control__input-container"},Object(i.createElement)("input",s()({className:a()("sensei-number-control__input components-text-control__input",t),type:"number",id:n,onChange:function(e){f(parseInt(e.target.value,10)||O.min||0)},value:null===o?"":o},O)),v&&Object(i.createElement)("span",{className:"sensei-number-control__input-suffix"},v)),d&&Object(i.createElement)(u.Button,{className:"sensei-number-control__button",isSmall:!0,isSecondary:!0,onClick:function(){return f(null)}},p||Object(b.__)("Reset","sensei-lms"))))}},function(e,t,n){"use strict";var r=n(6),s=n.n(r),o=n(3),c=n.n(o),i=n(12),l=n.n(i),a=n(0),u=n(7),b=n.n(u),m=n(2),d=n(20);t.a=function(e){var t=e.options,n=e.optionsLabel,r=e.icon,o=e.value,i=e.onChange,u=e.toggleProps,p=e.getMenuItemProps,f=e.popoverProps,v=l()(e,["options","optionsLabel","icon","value","onChange","toggleProps","getMenuItemProps","popoverProps"]),O=t.find((function(e){return o===e.value}));return Object(a.createElement)(m.Dropdown,s()({className:"sensei-toolbar-dropdown",popoverProps:c()(c()({isAlternate:!0,position:"bottom right left",focusOnMount:!0},f),{},{className:b()(null==f?void 0:f.className,"sensei-toolbar-dropdown__popover")}),renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return Object(a.createElement)(m.Button,s()({onClick:n,icon:r,"aria-expanded":t,"aria-haspopup":"true"},u,{children:null!=u&&u.children?u.children(O):null==O?void 0:O.label}))},renderContent:function(e){var r=e.onClose;return Object(a.createElement)(m.NavigableMenu,{role:"menu",stopNavigationEvents:!0},Object(a.createElement)(m.MenuGroup,{label:n},t.map((function(e){var t=e.value===(null==O?void 0:O.value),n=null==p?void 0:p(e);return Object(a.createElement)(m.MenuItem,s()({key:e.value,role:"menuitemradio",isSelected:t,icon:t?d.c:null,className:b()("sensei-toolbar-dropdown__option",{"is-selected":t},null==n?void 0:n.className),onClick:function(){i(e.value),r()},children:e.label},n))}))))}},v))}},,function(e,t,n){"use strict";var r=n(6),s=n.n(r),o=n(12),c=n.n(o),i=n(0),l=n(7),a=n.n(l),u=n(5),b=n(41);t.a=Object(i.forwardRef)((function(e,t){var n=e.onChange,r=e.onKeyDown,o=e.value,l=e.onEnter,m=e.onRemove,d=c()(e,["onChange","onKeyDown","value","onEnter","onRemove"]);return Object(i.createElement)(u.PlainText,s()({ref:t,value:o,onChange:function(e){n(e.replace(/\n/g,""))},onKeyDown:function(e){switch(r&&r(e),e.keyCode){case b.ENTER:e.preventDefault(),l&&l(e);break;case b.BACKSPACE:!m||null!=o&&o.length||(e.preventDefault(),m())}}},d,{className:a()("sensei-lms-single-line-input",d.className)}))}))},,,,,,,function(e,t){e.exports=window.wp.editPost},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),s=n.n(r),o=n(12),c=n.n(o),i=n(9),l=n(24),a=n(4),u=n(31);n(45);function b(e){var t,n,r=e.storeName,o=e.getEndpoint,b=e.saveError,m=e.fetchError,d=e.clearError,p=e.updateBlock,f=e.readBlock,v=e.setServerStructure,O=c()(e,["storeName","getEndpoint","saveError","fetchError","clearError","updateBlock","readBlock","setServerStructure"]),j={loadStructure:regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(o(),"t0",2);case 2:return t=e.t0,e.next=5,Object(l.apiFetch)({path:"/sensei-internal/v1/".concat(t),method:"GET"});case 5:return n=e.sent,e.next=8,j.setResult(n);case 8:e.next=14;break;case 10:return e.prev=10,e.t1=e.catch(0),e.next=14,null==m?void 0:m(e.t1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})),saveStructure:regeneratorRuntime.mark((function e(){var t,n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.select)(r).getEditorStructure();case 2:return t=e.sent,e.prev=3,e.delegateYield(o(),"t0",5);case 5:return n=e.t0,e.next=8,Object(l.apiFetch)({path:"/sensei-internal/v1/".concat(n),method:"POST",data:t});case 8:return s=e.sent,e.next=11,j.setResult(s);case 11:e.next=17;break;case 13:return e.prev=13,e.t1=e.catch(3),e.next=17,null==b?void 0:b(e.t1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})),setResult:regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.setServerStructure(t);case 2:return e.next=4,p(t);case 4:case"end":return e.stop()}}),e)})),setServerStructure:function(e){return{type:"SET_SERVER_STRUCTURE",serverStructure:e}},setEditorStructure:function(e){return{type:"SET_EDITOR_STRUCTURE",editorStructure:e}},savePost:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"SAVE_POST"};case 2:return e.next=4,Object(a.dispatch)("core/editor").savePost();case 4:case"end":return e.stop()}}),e)})),startPostSave:regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"START_SAVE"};case 2:return t=f(),e.next=5,j.setEditorStructure(t);case 5:return e.next=7,null==d?void 0:d();case 7:if(t){e.next=9;break}return e.abrupt("return");case 9:if(!Object(a.select)(r).hasUnsavedEditorChanges()){e.next=11;break}return e.delegateYield(j.saveStructure(),"t0",11);case 11:return e.next=13,{type:"FINISH_SAVE"};case 13:case"end":return e.stop()}}),e)})),finishPostSave:regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"FINISH_POST_SAVE"};case 2:if(t=Object(a.select)(r),!(0,t.hasUnsavedServerUpdates)()){e.next=5;break}return e.delegateYield(j.savePost(),"t0",5);case 5:case"end":return e.stop()}}),e)})),setBlock:regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"SET_BLOCK",clientId:t};case 2:case"end":return e.stop()}}),e)}))},h={SET_SERVER_STRUCTURE:function(e,t){var n=e.serverStructure,r=!t.editorStructure,o=v?v(n):n,c=!r&&!Object(i.isEqual)(o,t.editorStructure);return s()(s()({},t),{},{serverStructure:o,hasUnsavedServerUpdates:c,hasUnsavedEditorChanges:!1})},SET_EDITOR_STRUCTURE:function(e,t){var n=e.editorStructure,r=!Object(i.isEqual)(t.serverStructure,n);return s()(s()({},t),{},{editorStructure:n,hasUnsavedEditorChanges:r&&!!n})},START_SAVE:function(e,t){return s()(s()({},t),{},{isSavingStructure:!0})},FINISH_SAVE:function(e,t){return s()(s()({},t),{},{isSavingStructure:!1})},SAVE_POST:function(e,t){return s()(s()({},t),{},{hasUnsavedServerUpdates:!1})},SET_BLOCK:function(e,t){var n=e.clientId;return s()(s()({},t),{},{clientId:n})},DEFAULT:function(e,t){return t}};return{unsubscribe:(t=!1,n=!1,Object(a.subscribe)((function(){var e=Object(a.select)("core/editor");if(e){var s=e.isSavingPost()&&!e.isAutosavingPost(),o=Object(a.select)(r).getIsSavingStructure();s&&(n=!0),t||s||!n?t&&!o&&(t=!1,Object(a.dispatch)(r).finishPostSave()):(t=!0,n=!1,Object(a.dispatch)(r).startPostSave())}}))),store:Object(a.registerStore)(r,{reducer:Object(u.b)(s()(s()({},h),null==O?void 0:O.reducers),{serverStructure:null,editorStructure:null,isSavingStructure:!1,hasUnsavedServerUpdates:!1,hasUnsavedEditorChanges:!1,clientId:null}),actions:s()(s()({},j),null==O?void 0:O.actions),selectors:s()(s()({},{hasUnsavedServerUpdates:function(e){return e.hasUnsavedServerUpdates},hasUnsavedEditorChanges:function(e){return e.hasUnsavedEditorChanges},getIsSavingStructure:function(e){return e.isSavingStructure},getServerStructure:function(e){return e.serverStructure},getEditorStructure:function(e){return e.editorStructure},getBlock:function(e){return e.clientId}}),null==O?void 0:O.selectors),controls:s()(s()({},l.controls),null==O?void 0:O.controls)})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(13),s=n(4),o=n(0),c=n(9),i=function(e,t){var n=e.name,i=e.attributes,l=void 0===i?{}:i,a=e.selectFirstBlock,u=void 0!==a&&a,b=e.isEmptyBlock,m=t.clientId,d=Object(s.useDispatch)("core/block-editor"),p=d.__unstableMarkNextChangeAsNotPersistent,f=void 0===p?c.noop:p,v=d.insertBlock,O=Object(s.useSelect)((function(e){return e("core/block-editor").getBlocks(m)})),j=0===O.length,h=Object(o.useCallback)((function(){var e=Object(r.createBlock)(n,l),t=j&&u;f(),v(e,void 0,m,t)}),[f,v,m,n,l,j,u]),g=O.length&&O[O.length-1],_=g&&b(g.attributes);Object(o.useEffect)((function(){_||h()}),[_,h])}},function(e){e.exports=JSON.parse('{"name":"sensei-lms/quiz-question","parent":["sensei-lms/quiz"],"category":"sensei-lms","supports":{"html":false},"attributes":{"id":{"type":"integer"},"title":{"type":"string"},"type":{"type":"string","default":"multiple-choice"},"answer":{"type":"object"},"options":{"type":"object","default":{"grade":1}},"editable":{"type":"boolean","default":true,"source":false}}}')},,,,,,function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var s=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),s[t]=e>>>((3&t)<<3)&255;return s}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,s=n;return[s[e[r++]],s[e[r++]],s[e[r++]],s[e[r++]],"-",s[e[r++]],s[e[r++]],"-",s[e[r++]],s[e[r++]],"-",s[e[r++]],s[e[r++]],"-",s[e[r++]],s[e[r++]],s[e[r++]],s[e[r++]],s[e[r++]],s[e[r++]]].join("")}},,,,,,,,,,,,,,,,function(e,t,n){var r=n(129),s=n(130),o=s;o.v1=r,o.v4=s,e.exports=o},function(e){e.exports=JSON.parse('{"name":"sensei-lms/quiz-category-question","parent":["sensei-lms/quiz"],"category":"sensei-lms","supports":{"html":false},"attributes":{"id":{"type":"integer"},"type":{"type":"string","default":"category-question"},"categoryName":{"type":"string"},"options":{"type":"object","default":{"category":null,"number":1}}}}')},function(e){e.exports=JSON.parse('{"name":"sensei-lms/quiz","category":"sensei-lms","supports":{"html":false,"multiple":false},"attributes":{"id":{"type":"integer"},"options":{"type":"object"},"isPostTemplate":{"type":"boolean","default":false}}}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r,s,o=n(70),c=n(71),i=0,l=0;e.exports=function(e,t,n){var a=t&&n||0,u=t||[],b=(e=e||{}).node||r,m=void 0!==e.clockseq?e.clockseq:s;if(null==b||null==m){var d=o();null==b&&(b=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==m&&(m=s=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:l+1,v=p-i+(f-l)/1e4;if(v<0&&void 0===e.clockseq&&(m=m+1&16383),(v<0||p>i)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=p,l=f,s=m;var O=(1e4*(268435455&(p+=122192928e5))+f)%4294967296;u[a++]=O>>>24&255,u[a++]=O>>>16&255,u[a++]=O>>>8&255,u[a++]=255&O;var j=p/4294967296*1e4&268435455;u[a++]=j>>>8&255,u[a++]=255&j,u[a++]=j>>>24&15|16,u[a++]=j>>>16&255,u[a++]=m>>>8|128,u[a++]=255&m;for(var h=0;h<6;++h)u[a+h]=b[h];return t||c(u)}},function(e,t,n){var r=n(70),s=n(71);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var c=(e=e||{}).random||(e.rng||r)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,t)for(var i=0;i<16;++i)t[o+i]=c[i];return t||s(c)}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(39),s=n(3),o=n.n(s),c=n(0),i=n(5),l=n(1),a=n(6),u=n.n(a),b=n(4),m=n(17),d=n(7),p=n.n(d),f=n(8),v=n.n(f),O=function(e){return Object(m.createHigherOrderComponent)((function(t){return function(n){return function(e,t){var n=t.attributes,r=t.setMeta;Object(c.useEffect)((function(){var t=j(e(n));r({validationErrors:t})}),[e,n,r])}(e,n),Object(c.createElement)(t,n)}}),"withBlockValidation")},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).filter((function(e){return v()(e,2)[1]})).map((function(e){return v()(e,1)[0]}))},h=function(e){return Object(b.useSelect)((function(t){var n=t("core/block-editor"),r=n.getBlockRootClientId(e);return(n.getBlocks(r)||[]).slice(0,n.getBlockIndex(e,r))}),[e]).reduce((function(e,t){var n;return e+("category-question"===t.attributes.type&&(null===(n=t.attributes.options)||void 0===n?void 0:n.number)||1)}),0)+1},g=n(46),_=n(10),E=n.n(_),w=n(9),k=n(31),y={reducer:Object(k.b)({SET_BLOCK_META:function(e,t){var n=e.clientId,r=e.metadata;return o()(o()({},t),{},E()({},n,o()(o()({},t[n]||{}),r)))},CLEAR:function(e,t){return t?o()(o()({},e),{},E()({},t,void 0)):{}},DEFAULT:function(e){return e}},{}),actions:{setBlockMeta:function(e,t){return{type:"SET_BLOCK_META",clientId:e,metadata:t}},clear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"CLEAR",clientId:e}}},selectors:{getBlockMeta:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r?null===(n=e[t])||void 0===n?void 0:n[r]:e[t]},getMultipleBlockMeta:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null!=t&&t.length?Object(w.pick)(e,t):o()({},e);return n?Object(w.mapValues)(r,n):r}}},x=Object(k.c)("sensei/block-metadata",y),q=Object(c.createContext)({}),S=function(e){var t=Object(b.useSelect)((function(t){return t(x).getBlockMeta(e)}),[e]),n=Object(b.useDispatch)(x).setBlockMeta,r=P(),s=Object(c.useCallback)((function(t){return n(e,t)}),[e,n]);return[Object(c.useMemo)((function(){return o()(o()({},r),t)}),[t,r]),s]},C=Object(m.createHigherOrderComponent)((function(e){return N((function(t){var n=S(t.clientId),r=v()(n,1)[0];return Object(c.createElement)(q.Provider,{value:r},Object(c.createElement)(e,t))}))}),"withBlockMetaProvider"),P=function(){return Object(c.useContext)(q)},N=Object(m.createHigherOrderComponent)((function(e){return function(t){var n=S(t.clientId),r=v()(n,2),s=r[0],o=r[1];return Object(c.createElement)(e,u()({},t,{meta:s,setMeta:o}))}}),"withBlockMeta"),B=n(11),M=n.n(B),R=function(e){var t=e.onMount;return Object(c.useEffect)((function(){t()}),[t]),null},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(b.useSelect)((function(e){return e("core/editor").isSavingPost()&&!e("core/editor").isAutosavingPost()}));Object(c.useEffect)((function(){n&&e()}),[n].concat(M()(t)))},A=n(21),I=function(){return Object(c.createElement)("div",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--file-upload"},Object(c.createElement)("div",{className:"sensei-lms-question-block__file-input-placeholder"},Object(l.__)("Browse…","sensei-lms")))},T=n(2),V=n(50),L=function(e){var t=e.attributes,n=t.before,r=t.after,s=t.gap,o=e.setAttributes,i=e.hasSelected;return Object(c.createElement)("ul",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--gap-fill"},Object(c.createElement)("li",null,Object(c.createElement)(V.a,{className:"sensei-lms-question-block__answer--gap-fill__text",placeholder:Object(l.__)("Text before the gap","sensei-lms"),value:n,onChange:function(e){return o({before:e})}})),Object(c.createElement)("li",{className:"sensei-lms-question-block__answer--gap-fill__right-answers",onBlur:function(e){var t=e.target;null!=t&&t.value&&(o({gap:[].concat(M()(null!=s?s:[]),[t.value])}),D(t,""))}},Object(c.createElement)(T.FormTokenField,{className:"sensei-lms-question-block__text-input-placeholder",value:s||[],label:!1,onChange:function(e){return o({gap:e})}}),i&&Object(c.createElement)("div",{className:"sensei-lms-question-block__answer--gap-fill__hint"},Object(l.__)("Add right answers. Separate with commas or the Enter key.","sensei-lms"))),Object(c.createElement)("li",null,Object(c.createElement)(V.a,{className:"sensei-lms-question-block__answer--gap-fill__text",placeholder:Object(l.__)("Text after the gap","sensei-lms"),value:r,onChange:function(e){return o({after:e})}})))};L.view=function(e){var t=e.attributes,n=t.before,r=t.after,s=t.gap;return Object(c.createElement)("ul",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--gap-fill"},Object(c.createElement)("li",null,n),Object(c.createElement)("li",{className:"sensei-lms-question-block__answer--gap-fill__right-answers sensei-lms-question-block__text-input-placeholder"},s.map((function(e){return Object(c.createElement)("span",{key:e,className:"sensei-lms-question-block__answer--gap-fill__token"},e)}))),Object(c.createElement)("li",null,r))};var Q=L,D=function(e,t){delete e.value,e.value=t,e.dispatchEvent(new window.Event("change",{bubbles:!0}))},F=function(){return Object(c.createElement)("div",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--multi-line"},Object(c.createElement)("small",{className:"sensei-lms-question-block__input-label"},Object(l.__)("Answer:","sensei-lms")),Object(c.createElement)("div",{className:"sensei-lms-question-block__text-input-placeholder multi-line"}))},H=n(12),G=n.n(H),U=n(20),W=function(e){var t=e.className,n=e.isChecked,r=e.isCheckbox,s=e.children,o=G()(e,["className","isChecked","isCheckbox","children"]);return Object(c.createElement)("div",u()({className:p()("sensei-lms-question-block__option-toggle",t)},o),Object(c.createElement)("div",{className:p()("sensei-lms-question-block__option-toggle__control",{"is-checked":n,"is-checkbox":r})},n&&r&&U.c),s)},K=function(e){var t=e.attributes,n=t.label,r=t.correct,s=e.setAttributes,o=e.hasFocus,i=e.hasSelected,a=e.isCheckbox,b=G()(e,["attributes","setAttributes","hasFocus","hasSelected","isCheckbox"]),m=Object(c.useRef)(null);Object(c.useEffect)((function(){if(o){var e,t=(null===(e=m.current)||void 0===e?void 0:e.textarea)||m.current;null==t||t.focus()}}),[o,m]);return Object(c.createElement)("div",{className:"sensei-lms-question-block__multiple-choice-answer-option"},Object(c.createElement)(W,{isChecked:r,isCheckbox:a}),Object(c.createElement)(g.a,u()({ref:m,placeholder:Object(l.__)("Add Answer","sensei-lms"),className:"sensei-lms-question-block__multiple-choice-answer-option__input",onChange:function(e){return s({label:e})},value:n},b)),i&&Object(c.createElement)("div",{className:"sensei-lms-question-block__answer--multiple-choice__toggle__wrapper"},Object(c.createElement)(T.Button,{isPrimary:!0,className:"sensei-lms-question-block__answer--multiple-choice__toggle",onClick:function(){return s({correct:!r})}},r?Object(l.__)("Right","sensei-lms"):Object(l.__)("Wrong","sensei-lms"))))},Y=[{label:"",correct:!0},{label:"",correct:!1}],Z=function(e){return e.filter((function(e){return e.correct})).length>1},J=function e(t){var n,r=t.setAttributes,s=t.hasSelected,i=t.attributes.answers,l=void 0===i?[]:i;0===l.length&&(l=Y);var a=Z(l),u=!(null!==(n=l[l.length-1])&&void 0!==n&&n.label),b=M()(l);s&&!u&&b.push({label:"",correct:!1});var m=function(e,t){var n=M()(l);n[e]=o()(o()({},n[e]),t),r({answers:n})},d=Object(c.useState)(null),p=v()(d,2),f=p[0],O=p[1];return Object(c.createElement)(e.Options,{answers:b},(function(e,t){return Object(c.createElement)(K,{hasFocus:t===f,isCheckbox:a,attributes:e,setAttributes:function(e){return m(t,e)},onEnter:function(){return function(e){var t=M()(l);t.splice(e+1,0,{label:"",correct:!1}),r({answers:t}),O(e+1)}(t)},onRemove:function(){return function(e){if(1!==l.length){O(e-1);var t=M()(l);t.splice(e,1),r({answers:t})}}(t)},hasSelected:s})}))};J.Options=function(e){var t=e.answers,n=e.children;return Object(c.createElement)("ol",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--multiple-choice"},t.map((function(e,t){return Object(c.createElement)("li",{key:t,className:p()("sensei-lms-question-block__answer--multiple-choice__option",{"is-draft":!e.label})},n(e,t))})))},J.view=function(e){var t=e.attributes.answers,n=void 0===t?[]:t,r=Z(n);return Object(c.createElement)(J.Options,{answers:n},(function(e){return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(W,{isChecked:e.correct,isCheckbox:r}),e.label)}))};var X=J,$=function(){return Object(c.createElement)("div",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--single-line"},Object(c.createElement)("small",{className:"sensei-lms-question-block__input-label"},Object(l.__)("Answer:","sensei-lms")),Object(c.createElement)("div",{className:"sensei-lms-question-block__text-input-placeholder"}))},ee=function(e){var t=e.attributes.correct,n=void 0===t||t,r=e.setAttributes,s=e.hasSelected,o=[{label:Object(l.__)("True","sensei-lms"),value:!0},{label:Object(l.__)("False","sensei-lms"),value:!1}];return Object(c.createElement)("ul",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--true-false"},o.map((function(e){var t=e.label,o=e.value;return Object(c.createElement)("li",{key:o,className:"sensei-lms-question-block__answer--true-false__option"},Object(c.createElement)(W,{isChecked:n===o},Object(c.createElement)("span",null,t)),s&&Object(c.createElement)("div",{className:"sensei-lms-question-block__answer--multiple-choice__toggle__wrapper"},Object(c.createElement)(T.Button,{isPrimary:!0,className:"sensei-lms-question-block__answer--true-false__toggle",onClick:function(){return r({correct:o===n?!o:o})}},n===o?Object(l.__)("Right","sensei-lms"):Object(l.__)("Wrong","sensei-lms"))))})))};ee.view=function(e){var t=e.attributes.correct,n=void 0===t||t,r=[{label:Object(l.__)("True","sensei-lms"),value:!0},{label:Object(l.__)("False","sensei-lms"),value:!1}];return Object(c.createElement)("ul",{className:"sensei-lms-question-block__answer sensei-lms-question-block__answer--true-false"},r.map((function(e){var t=e.label,r=e.value;return Object(c.createElement)("li",{key:r,className:"sensei-lms-question-block__answer--true-false__option"},Object(c.createElement)(W,{isChecked:n===r},Object(c.createElement)("span",null,t)))})))};var te=ee,ne=function(e){var t=e.options.answerFeedback,n=e.setOptions;return Object(c.createElement)(T.TextareaControl,{label:Object(l.__)("Answer Feedback","sensei-lms"),onChange:function(e){return n({answerFeedback:e})},value:t||"",help:Object(l.__)("Displayed to the learner after the quiz has been graded.","sensei-lms")})},re=function(e){var t=e.options.teacherNotes,n=e.setOptions;return Object(c.createElement)(T.TextareaControl,{label:Object(l.__)("Grading Notes","sensei-lms"),onChange:function(e){return n({teacherNotes:e})},value:t||"",help:Object(l.__)("Displayed to the teacher when grading the question.","sensei-lms")})},se=n(87),oe=n(47),ce=function(e){var t=Object(c.useMemo)((function(){return Object(se.v4)()}),[]);return Object(c.createElement)(oe.a,u()({id:t,min:0,step:1},e,{suffix:Object(l._n)("Point","Points",e.value,"sensei-lms")}))},ie=function(e){var t=e.options.grade,n=void 0===t?1:t,r=e.setOptions;return Object(c.createElement)(ce,{label:Object(l.__)("Grade","sensei-lms"),value:n,onChange:function(e){return r({grade:null!=e?e:1})},allowReset:!0})},le=function(e){var t=e.options.randomOrder,n=void 0===t||t,r=e.setOptions;return Object(c.createElement)(T.CheckboxControl,{label:Object(l.__)("Random Order","sensei-lms"),checked:n,onChange:function(e){return r({randomOrder:e})}})},ae={"multiple-choice":{title:Object(l.__)("Multiple Choice","sensei-lms"),description:Object(l.__)("Select from a list of options.","sensei-lms"),edit:X,view:X.view,settings:[le,ne],validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.answers,n=void 0===t?[]:t;return{noAnswers:n.filter((function(e){return e.label})).length<2,noRightAnswer:!n.some((function(e){return e.correct})),noWrongAnswer:!n.some((function(e){return!e.correct}))}},messages:{noAnswers:Object(l.__)("Add at least one right and one wrong answer.","sensei-lms"),noRightAnswer:Object(l.__)("Add a right answer to this question.","sensei-lms"),noWrongAnswer:Object(l.__)("Add a wrong answer to this question.","sensei-lms")}},boolean:{title:Object(l.__)("True/False","sensei-lms"),description:Object(l.__)("Select whether a statement is true or false.","sensei-lms"),edit:te,view:te.view,settings:[ne]},"gap-fill":{title:Object(l.__)("Gap Fill","sensei-lms"),description:Object(l.__)("Fill in the blank.","sensei-lms"),edit:Q,view:Q.view,settings:[ne],validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.before,n=e.after,r=e.gap;return{noGap:!(null!=r&&r.length),noBefore:!t,noAfter:!n}},messages:{noGap:Object(l.__)("Add a right answer to this question.","sensei-lms"),noBefore:Object(l.__)("Add text before and after the gap.","sensei-lms"),noAfter:Object(l.__)("Add text before and after the gap.","sensei-lms")}},"single-line":{title:Object(l.__)("Single Line","sensei-lms"),description:Object(l.__)("Short answer to an open-ended question.","sensei-lms"),edit:$,view:$,settings:[re]},"multi-line":{title:Object(l.__)("Multi Line","sensei-lms"),description:Object(l.__)("Long answer to an open-ended question.","sensei-lms"),edit:F,view:F,settings:[re]},"file-upload":{title:Object(l.__)("File Upload","sensei-lms"),description:Object(l.__)("Upload a file or document.","sensei-lms"),edit:I,view:I,settings:[re]}},ue={QuestionAnswerFeedbackSettings:ne,QuestionGradingNotesSettings:re},be=Object(A.applyFilters)("sensei-lms.Question.questionTypes",ae,ue),me=n(158),de=n(29),pe=Object(c.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(de.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})),fe=function(){return Object(c.createElement)("div",{className:"sensei-lms-question-block__notice"},Object(c.createElement)(me.a,{icon:pe}),Object(c.createElement)(T.Tooltip,{text:Object(l.__)("Any updates made to this question will also update it in any other quiz that includes it.","sensei-lms")},Object(c.createElement)("span",null,Object(l.__)("Shared Question","sensei-lms"))))},ve=function(e){var t=e.attributes.type,n=e.meta,r=n.validationErrors,s=n.showValidationErrors,o=e.getErrorMessages;if(!s||null==r||!r.length)return null;var i=o(r,t);return Object(c.createElement)(Oe,{errors:i})},Oe=function(e){var t=e.errors,n=void 0===t?[]:t;if(!n||!n.length)return null;var r=n[0];return Object(c.createElement)(T.Notice,{isDismissible:!1,status:"warning",className:"sensei-lms-block-validation-notice"},Object(c.createElement)(me.a,{icon:U.a,className:"sensei-lms-block-validation-notice__icon"}),r)},je=function(e){var t=e.value,n=e.onChange;return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(T.ToolbarGroup,{className:"sensei-lms-question-block__grade-toolbar"},Object(c.createElement)(ce,{value:t,onChange:n})))},he=function(e,t){return e.map((function(e){var n,r;return(null==be||null===(n=be[t])||void 0===n||null===(r=n.messages)||void 0===r?void 0:r[e])||Me.messages[e]}))},ge=n(13),_e=function(){return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(i.BlockControls,null,Object(c.createElement)(T.Toolbar,null,Object(c.createElement)(T.ToolbarButton,{disabled:!0},Object(l.__)("Locked","sensei-lms")))),Object(c.createElement)(i.InspectorControls,null,Object(c.createElement)(T.PanelBody,{title:Object(l.__)("Question Details","sensei-lms"),initialOpen:!0},Object(c.createElement)("div",null,Object(l.__)("You are not allowed to edit this question.","sensei-lms")))))},Ee=function(e){var t=e.clientId,n=e.attributes,r=n.title,s=n.answer,o=n.editable,i=e.questionIndex,l=e.questionGrade,a=e.AnswerBlock,u=Object(b.useSelect)((function(e){return e("core/block-editor").getBlock(t)}),[t]);return Object(c.createElement)("div",{className:"sensei-lms-question-block"},i,Object(c.createElement)("h2",{className:"sensei-lms-question-block__title"},r),l,Object(c.createElement)(c.RawHTML,null,Object(ge.getBlockContent)(u)),(null==a?void 0:a.view)&&Object(c.createElement)(a.view,{attributes:s}),!o&&Object(c.createElement)(_e,null))},we=function(e){var t=e.controls,n=void 0===t?[]:t,r=e.attributes.options,s=void 0===r?{}:r,a=e.setAttributes,b=G()(e,["controls","attributes","setAttributes"]),m=function(e){return a({options:o()(o()({},s),e)})};return Object(c.createElement)(i.InspectorControls,null,Object(c.createElement)(T.PanelBody,{title:Object(l.__)("Question Settings","sensei-lms"),initialOpen:!0},[ie].concat(M()(n)).map((function(e){return Object(c.createElement)(e,u()({key:e},b,{options:s,setOptions:m}))}))))},ke=n(48),ye=Object.entries(be).map((function(e){var t=v()(e,2),n=t[0],r=t[1];return o()(o()({},r),{},{label:r.title,value:n})})),xe=function(e){var t=e.value,n=e.onSelect;return Object(c.createElement)(T.Toolbar,{className:"sensei-lms-question-block__type-selector__toolbar"},Object(c.createElement)(ke.a,{className:"sensei-lms-question-block__type-selector",label:Object(l.__)("Question Type","sensei-lms"),options:ye,value:t,onChange:function(e){return n(e)},optionsLabel:Object(l.__)("Question Type","sensei-lms"),popoverProps:{className:"sensei-lms-question-block__type-selector__popover"},toggleProps:{children:function(e){return Object(c.createElement)("b",null,null==e?void 0:e.title)}},getMenuItemProps:function(e){return{children:Object(c.createElement)("div",null,Object(c.createElement)("strong",null," ",e.title),Object(c.createElement)("div",{className:"sensei-lms-question-block__type-selector__option__description"},e.description))}}}))},qe=n(57),Se=function(e){var t=e.meta,n=t.validationErrors,r=t.showValidationErrors,s=e.setMeta,o=Object(c.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s({showValidationErrors:e})}),[s]);if(z((function(){return o(!1)}),[o]),null==n||!n.length)return null;var i=Object(c.createElement)(T.Notice,{isDismissible:!1,status:"warning",className:"sensei-lms-quiz-block__pre-publish-validation__notice",actions:r?[]:[{label:Object(l.__)("View issues","sensei-lms"),onClick:function(){return o(!0)},className:"is-link"}]},Object(l.__)("This question is incomplete.","sensei-lms"));return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(qe.PluginPostStatusInfo,null,i),Object(c.createElement)(qe.PluginPrePublishPanel,{title:Object(l.__)("Validation","sensei-lms"),initialOpen:!0},Object(c.createElement)(R,{onMount:o}),i,Object(c.createElement)("p",null,Object(l.__)("Incomplete questions added to a quiz won't be displayed to the learner.","sensei-lms"))))},Ce=Object(m.compose)(N,O((function(e){var t,n=e.id,r=e.type,s=e.title,c=e.answer,i=r&&be[r],l=(null===(t=i.validate)||void 0===t?void 0:t.call(i,c))||{},a=null==s?void 0:s.length;return!a&&!c&&!n?{}:o()({noTitle:!a},l)})))((function(e){var t,n,r=e.attributes,s=r.title,a=r.type,m=r.answer,d=void 0===m?{}:m,f=r.options,v=r.shared,O=r.editable,j=void 0===O||O,_=e.setAttributes,E=e.clientId,w=e.context,k=Object(b.useDispatch)("core/block-editor"),y=k.removeBlock,x=k.selectBlock,q=Object(c.useCallback)((function(){var e=Object(b.select)("core/block-editor").getBlocks(E);e.length&&x(e[0].clientId)}),[E,x]),S=h(E),C=a&&be[a],P=function(e){var t=e.isSelected,n=e.clientId;return Object(b.useSelect)((function(e){return e("core/block-editor").hasSelectedInnerBlock(n)}),[n])||t}(e),N=w&&!("sensei-lms/quizId"in w),B=s||P||N,M=!N&&Object(c.createElement)("h2",{className:"sensei-lms-question-block__index"},S,"."),R=e.meta.showValidationErrors&&(null===(t=e.meta.validationErrors)||void 0===t?void 0:t.length),z=Object(c.createElement)("div",{className:"sensei-lms-question-block__grade"},(n=f.grade,Object(l.sprintf)(Object(l._n)("%d point","%d points",n,"sensei-lms"),n)));return j?Object(c.createElement)("div",{className:p()("sensei-lms-question-block",{"is-draft":!s,"is-invalid":R})},M,N&&Object(c.createElement)(Se,e),Object(c.createElement)("h2",{className:"sensei-lms-question-block__title"},Object(c.createElement)(g.a,{placeholder:Object(l.__)("Question Title","sensei-lms"),value:s,onChange:function(e){return _({title:e})},onEnter:q,onRemove:function(){return y(E)}})),B&&z,P&&v&&Object(c.createElement)(fe,null),B&&Object(c.createElement)(c.Fragment,null,Object(c.createElement)(i.InnerBlocks,{template:[["core/paragraph",{placeholder:Object(l.__)("Question Description","sensei-lms")}]],templateInsertUpdatesSelection:!1,templateLock:!1}),(null==C?void 0:C.edit)&&Object(c.createElement)(C.edit,{attributes:d,setAttributes:function(e){return _({answer:o()(o()({},d),e)})},hasSelected:P})),Object(c.createElement)(ve,u()({},e,{getErrorMessages:he})),Object(c.createElement)(i.BlockControls,null,Object(c.createElement)(c.Fragment,null,Object(c.createElement)(xe,{value:a,onSelect:function(e){return _({type:e})}}),Object(c.createElement)(je,{value:f.grade,onChange:function(e){return _({options:o()(o()({},f),{},{grade:e})})}}))),Object(c.createElement)(we,u()({controls:null==C?void 0:C.settings},e))):Object(c.createElement)(Ee,u()({},e,{questionGrade:z,questionIndex:M,AnswerBlock:C}))})),Pe=n(64),Ne=[{onProgrammaticCreation:!0,isEligible:function(e){var t;return e.media||"file-upload"===e.type&&!(null===(t=e.options)||void 0===t||!t.studentHelp)},attributes:o()(o()({},Pe.attributes),{},{media:{type:"object"}}),migrate:function(e,t){var n,r=M()(t);return e.media&&r.push(function(e){switch(e.type){case"image":return Object(ge.createBlock)("core/image",{id:e.id,url:e.url});case"audio":return Object(ge.createBlock)("core/audio",{id:e.id,src:e.url});case"video":return Object(ge.createBlock)("core/video",{id:e.id,src:e.url});default:var t=Object(c.createElement)("a",{href:e.url},e.title);return Object(ge.createBlock)("core/paragraph",{content:Object(c.renderToString)(t)})}}(e.media)),"file-upload"===e.type&&null!==(n=e.options)&&void 0!==n&&n.studentHelp&&r.push(Object(ge.createBlock)("core/paragraph",{content:e.options.studentHelp})),[o()(o()({},Object(w.omit)(e,"media")),{},{options:Object(w.omit)(e.options,"studentHelp")}),r]},save:function(){return Object(c.createElement)(i.InnerBlocks.Content,null)}}],Be=Object(c.createElement)(T.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(T.Path,{d:"M12.408 7.277A2.999 2.999 0 009 10.25h1.5c0-.677.375-1.14.886-1.37.512-.228 1.11-.198 1.614.253.504.45.6 1.04.43 1.574-.171.534-.592.958-1.264 1.033l.021-.002a1.034 1.034 0 00-.937.99V14h1.5v-.95c1.02-.28 1.817-.979 2.107-1.888a2.998 2.998 0 00-2.449-3.885z"}),Object(c.createElement)(T.Path,{d:"M6 4c-1.096 0-2 .904-2 2v12c0 1.096.904 2 2 2h12c1.096 0 2-.904 2-2V6c0-1.096-.904-2-2-2H6zm0 1.5h12c.284 0 .5.216.5.5v12a.49.49 0 01-.5.5H6a.49.49 0 01-.5-.5V6c0-.284.216-.5.5-.5zm5.25 9.5v1.5h1.5V15h-1.5z"})),Me=o()(o()({},Pe),{},{title:Object(l.__)("Question","sensei-lms"),icon:Be,usesContext:["sensei-lms/quizId"],description:Object(l.__)("The building block of all quizzes.","sensei-lms"),example:{attributes:{title:Object(l.__)("Example Quiz Question","sensei-lms")}},deprecated:Ne,edit:Ce,save:function(){return Object(c.createElement)(i.InnerBlocks.Content,null)},messages:{noTitle:Object(l.__)("Add a title to this question.","sensei-lms")}}),Re=function(){var e=Object(b.useSelect)((function(e){var t=e("core").getEntityRecords("taxonomy","question-category",{per_page:-1});return null!=t?t:[]}),[]),t=Object(c.useMemo)((function(){return(e||[]).map((function(e){return o()(o()({},e),{},{name:unescape(e.name)})}))}),[e]),n=Object(c.useMemo)((function(){return Object(w.keyBy)(null!=t?t:[],"id")}),[t]);return[t,function(e){var t;return!(!n||0===n.length)&&(null!==(t=n[e])&&void 0!==t&&t)}]},ze=n(23),Ae=n.n(ze),Ie=function(e){var t,n,r,s,a,u,b,m,d=e.attributes.options,p=void 0===d?{}:d,f=e.setAttributes,O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(o()(o()({},t),{},{options:o()(o()({},p),e)}))},j=Re(),h=v()(j,2),g=h[0],_=h[1],E=Object(c.useState)(null),w=v()(E,2),k=w[0],y=w[1],x=(r=p.category,s=y,a=Object(c.useState)({}),u=v()(a,2),b=u[0],m=u[1],Object(c.useEffect)((function(){r&&!b.hasOwnProperty(r)&&Ae()({path:"/wp/v2/questions?question-category=".concat(r),method:"GET",parse:!1}).then((function(e){b[r]=+e.headers.get("X-WP-Total"),m(o()({},b))})).catch((function(e){e.json().then((function(e){return s(e.message)}))}))}),[r,b,s]),!!b.hasOwnProperty(r)&&b[r]),q=[{value:"",label:""}].concat(M()((g||[]).map((function(e){return{value:e.id,label:e.name}}))));return Object(c.createElement)(i.InspectorControls,null,Object(c.createElement)(T.PanelBody,{title:Object(l.__)("Category Question Settings","sensei-lms"),initialOpen:!0},!q.length&&Object(c.createElement)(T.Notice,{status:"warning",isDismissible:!1},Object(l.__)("No question categories exist.","sensei-lms")),q.length>0&&Object(c.createElement)(c.Fragment,null,Object(c.createElement)(T.SelectControl,{label:Object(l.__)("Category","sensei-lms"),options:q,value:null!==(t=p.category)&&void 0!==t?t:"",onChange:function(e){var t,n=_(+e);O({category:null!==(t=+e)&&void 0!==t?t:null},{categoryName:null==n?void 0:n.name}),y(null)}}),Object(c.createElement)(oe.a,{label:Object(l.__)("Number of Questions","sensei-lms"),min:1,step:1,value:null!==(n=p.number)&&void 0!==n?n:1,onChange:function(e){return e&&O({number:e||1})}}),null!==k&&Object(c.createElement)(T.Notice,{status:"error",isDismissible:!1},Object(l.sprintf)(Object(l.__)("An error occurred while retrieving questions: %s","sensei-lms"),k)),!1!==x&&null===k&&p.number>x&&Object(c.createElement)(T.Notice,{status:"warning",isDismissible:!1},Object(l.sprintf)(Object(l._n)("The selected category has %d question.","The selected category has %d questions.",x,"sensei-lms"),x)))))},Te=function(e){return e.map((function(e){return Qe.messages[e]}))},Ve=Object(m.compose)(N,O((function(e){var t=e.options;return{noCategory:!((null==t?void 0:t.category)>0)}})))((function(e){var t,n,r=e.attributes.options,s=r.number,o=void 0===s?1:s,i=r.category,a=e.clientId,b=e.setAttributes,m=h(a),d=Re(),p=v()(d,2)[1],f=o&&1!==o?"".concat(m," - ").concat(m+o-1):m,O=Object(c.createElement)("h2",{className:"sensei-lms-question-block__index"},f,"."),j=null!==(t=null===(n=p(i))||void 0===n?void 0:n.name)&&void 0!==t?t:e.attributes.categoryName,g=j===e.attributes.categoryName;return Object(c.useEffect)((function(){j&&!g&&b({categoryName:j})}),[j,g,b]),Object(c.createElement)(c.Fragment,null,Object(c.createElement)(Ie,e),Object(c.createElement)("div",{className:"sensei-lms-question-block sensei-lms-category-question-block ".concat(i?"":"is-draft")},O,Object(c.createElement)("h2",{className:"sensei-lms-question-block__title"},j?Object(c.createElement)("strong",null,j):Object(l.__)("Category Question","sensei-lms"),j&&o>0&&" ("+Object(l.sprintf)(Object(l._n)("%d question","%d questions",o,"sensei-lms"),o)+")")),Object(c.createElement)(ve,u()({},e,{getErrorMessages:Te})))})),Le=n(88),Qe=o()(o()({},Le),{},{title:Object(l.__)("Category Question","sensei-lms"),icon:Be,usesContext:["sensei-lms/quizId"],description:Object(l.__)("Pull questions from a question category.","sensei-lms"),example:{attributes:{categoryName:Object(l.__)("Example Category","sensei-lms")}},edit:Ve,save:function(){return Object(c.createElement)(i.InnerBlocks.Content,null)},messages:{noCategory:Object(l.__)("Assign a category to this question.","sensei-lms")}}),De=Object(c.createElement)(T.SVG,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(c.createElement)(T.Path,{fillOpacity:"0",stroke:"currentColor",strokeWidth:"1.5",d:"M21 8V19C21 20.1046 20.1057 21 19.0011 21C15.8975 21 9.87435 21 6 21"}),Object(c.createElement)(T.Rect,{x:"3.75",y:"3.75",width:"13.5",height:"13.5",rx:"0.875",stroke:"currentColor",strokeWidth:"1.5",fillOpacity:"0"}),Object(c.createElement)(T.Path,{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12 9C12 8.17157 11.3284 7.5 10.5 7.5C9.67157 7.5 9 8.17157 9 9H7.5C7.5 7.34315 8.84315 6 10.5 6C12.1569 6 13.5 7.34315 13.5 9C13.5 10.3981 12.5442 11.5721 11.25 11.9053V12.75H9.75V11.5C9.75 10.9291 10.2023 10.5422 10.6673 10.4908C11.4167 10.4081 12 9.77168 12 9ZM9.75 13.75V15.25H11.25V13.75H9.75Z"})),Fe=n(63),He=n(62);function Ge(e,t){return e&&0!==e.length?(e||[]).map((function(e){var n=e.description,r=G()(e,["description"]),s=t?We(t,e):null;if(s){s.attributes=o()(o()({},s.attributes),r);var c=n&&Object(ge.rawHandler)({HTML:n})||[];Object(b.dispatch)("core/block-editor").replaceInnerBlocks(s.clientId,c)}else s=Ue(e);return s})):[Object(ge.createBlock)("sensei-lms/quiz-question",{})]}function Ue(e){if("category-question"===e.type)return Object(ge.createBlock)(Qe.name,e,[]);var t=function(e,t){return Me.deprecated.forEach((function(n){if(n.onProgrammaticCreation&&n.isEligible(e,t)){var r=n.migrate(e,t),s=v()(r,2);e=s[0],t=s[1]}})),[e,t]}(e,e.description&&Object(ge.rawHandler)({HTML:e.description})||[]),n=v()(t,2),r=n[0],s=n[1];return Object(ge.createBlock)(Me.name,r,s)}var We=function(e,t){var n=t.id,r=t.title,s=t.options,o=null==s?void 0:s.category;return e.find((function(e){var t,s,c=e.attributes;return n===c.id||!c.id&&c.title&&c.title===r||!c.id&&(null===(t=c.options)||void 0===t?void 0:t.category)&&(null===(s=c.options)||void 0===s?void 0:s.category)===o}))},Ke=function e(t,n){var r=Object(w.mapKeys)(t,(function(e,t){return n(t)}));return Object(w.mapValues)(r,(function(t){return Object(w.isObject)(t)?e(t,n):t}))},Ye=function(e){return"category-question"===e.type?!e.options.category:!e.title},Ze="sensei/quiz-structure",Je=["categories","shared","options.studentHelp","media","categoryName"];Object(He.a)({storeName:Ze,getEndpoint:regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.select)("core/editor").getCurrentPostId();case 2:return t=e.sent,e.abrupt("return","lesson-quiz/".concat(t,"?context=edit"));case 4:case"end":return e.stop()}}),e)})),updateBlock:regeneratorRuntime.mark((function e(t){var n,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.select)(Ze).getBlock();case 2:if((r=e.sent)&&t){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Object(b.select)("core/block-editor").getBlock(r);case 7:if(e.sent){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(b.dispatch)("core/block-editor").updateBlockAttributes(r,{options:Ke(t.options,w.camelCase)});case 12:if(null!==(n=t.questions)&&void 0!==n&&n.length){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,Object(b.select)("core/block-editor").getBlocks(r);case 16:return s=e.sent,e.next=19,Object(b.dispatch)("core/block-editor").replaceInnerBlocks(r,Ge(t.questions,s),!1);case 19:case"end":return e.stop()}}),e)})),readBlock:function(){var e=Object(b.select)(Ze).getBlock();if(e){var t=Object(b.select)("core/block-editor").getBlock(e);if(t){var n,r,s,c=Ke(t.attributes.options,w.snakeCase),i=Object(b.select)("core/block-editor").getBlocks(e),l=(r=null==(n=i)?void 0:n.map((function(e){return"category-question"===e.attributes.type?e.attributes:o()(o()({},e.attributes),{},{description:Object(ge.getBlockContent)(e)})})),s=r.pop(),Ye(s)||r.push(s),r),a=Object(w.keyBy)(Object(b.select)(Ze).getServerStructure().questions,"id");return{options:c,questions:l.map((function(e){return!1===e.editable?a[e.id]:Object(w.omit)(e,Je)}))}}}},fetchError:regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.sprintf)(Object(l.__)("Quiz settings and questions could not be loaded. %s","sensei-lms"),t.message),e.next=3,Object(b.dispatch)("core/notices").createErrorNotice(n,{id:"quiz-structure-save-error"});case 3:case"end":return e.stop()}}),e)})),saveError:regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.sprintf)(Object(l.__)("Quiz settings and questions could not be updated. %s","sensei-lms"),t.message),e.next=3,Object(b.dispatch)("core/notices").createErrorNotice(n,{id:"quiz-structure-save-error"});case 3:case"end":return e.stop()}}),e)})),clearError:function(){Object(b.dispatch)("core/notices").removeNotice("quiz-structure-save-error")},setServerStructure:function(e){return e?o()(o()({},e),{},{questions:e.questions.map((function(e){return Object(w.omit)(e,Je)}))}):{}}});var Xe=function(e){var t=e.count,n=e.onClick;return Object(c.createElement)("div",null,Object(c.createElement)(T.Notice,{isDismissible:!1,status:"warning",className:"sensei-lms-quiz-block__pre-publish-validation__notice",actions:[{label:Object(l.__)("View issues","sensei-lms"),onClick:n,className:"is-link"}]},Object(l.sprintf)(Object(l._n)("There is %d incomplete question in your lesson quiz.","There are %d incomplete questions in your lesson quiz.",t,"sensei-lms"),t)))},$e=function(e){var t=e.clientId,n=e.setMeta,r=Object(b.useSelect)((function(e){var n=e("core/block-editor").getBlocks(t),r=e(x).getMultipleBlockMeta(n.map((function(e){return e.clientId})),"validationErrors");return n.map((function(e){return o()(o()({},e),{},{errors:r[e.clientId]})})).filter((function(e){var t;return null===(t=e.errors)||void 0===t?void 0:t.length}))}),[t]),s=Object(c.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n({showValidationErrors:e})}),[n]),i=Object(b.useDispatch)("core/block-editor").selectBlock;if(z((function(){return s(!1)}),[s]),!r.length)return null;var a=Object(c.createElement)(Xe,{onClick:function(){r.length&&(s(!0),i(r[0].clientId))},count:r.length});return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(qe.PluginPostStatusInfo,null,a),Object(c.createElement)(qe.PluginPrePublishPanel,{title:Object(l.__)("Lesson Quiz","sensei-lms"),initialOpen:!0},Object(c.createElement)(R,{onMount:s}),a,Object(c.createElement)("p",null,Object(l.__)("Incomplete questions won't be displayed to the learner when taking the quiz.","sensei-lms"))))},et=Object(c.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(de.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),tt=function(e){var t=Object(b.useSelect)((function(t){return t("core/block-editor").getBlocks(e)}),[]),n=t.length&&t[t.length-1];return n&&Ye(n.attributes)?t.length-1:t.length},nt=function(e){var t=e.clientId,n=e.openModal,r=Object(b.useDispatch)("core/block-editor").insertBlock,s=tt(t),o=function(e){r(Object(ge.createBlock)(e.name),s,t,!0)},i=[{title:Object(l.__)("New Question","sensei-lms"),icon:Me.icon,onClick:function(){return o(Me)}},{title:Object(l.__)("Category Question(s)","sensei-lms"),icon:De,onClick:function(){return o(Qe)}},{title:Object(l.__)("Existing Question(s)","sensei-lms"),icon:De,onClick:n}];return Object(c.createElement)("div",{className:"sensei-lms-quiz-block__appender block-editor-default-block-appender"},Object(c.createElement)(T.DropdownMenu,{icon:et,toggleProps:{className:"block-editor-inserter__toggle",onMouseDown:function(e){return e.preventDefault()}},label:Object(l.__)("Add Block","sensei-lms"),controls:i}),Object(c.createElement)("p",{className:"sensei-lms-quiz-block__appender__placeholder","data-placeholder":Object(l.__)("Add new or existing question(s)","sensei-lms")}))},rt=Object(c.createElement)(de.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(de.Path,{d:"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"})),st=function(e){var t=e.className,n=e.id,r=e.label,s=e.value,o=e.help,i=e.iconRight,l=e.onChange,a=G()(e,["className","id","label","value","help","iconRight","onChange"]);return Object(c.createElement)(T.BaseControl,{id:n,label:r,help:o},Object(c.createElement)("div",{className:"sensei-input-control"},Object(c.createElement)("input",u()({className:p()("sensei-input-control__input",{"sensei-input-control__input--with-icon-right":i},t),type:"text",id:n,value:null===s?"":s,onChange:function(e){return l(e.target.value)}},a)),i&&Object(c.createElement)("span",{className:"sensei-input-control__icon"},Object(c.createElement)(T.Icon,{icon:i}))))},ot=function(e){var t=e.questionCategories,n=e.filters,r=e.setFilters,s=Object(c.useState)(n.search).searchValue,i=function(){var e=Object(c.useState)([]),t=v()(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){Ae()({path:"/wp/v2/question-type?per_page=-1"}).then(r)}),[r]),n}(),a=function(e,t){return Object(w.debounce)((function(t){r((function(n){return o()(o()({},n),{},E()({},e,t))}))}),t)},u=[{value:"",label:Object(l.__)("Type","sensei-lms")}].concat(M()((i||[]).map((function(e){var t;return{value:e.id,label:null===(t=be[e.slug])||void 0===t?void 0:t.title}})))),b=[{value:"",label:Object(l.__)("Category","sensei-lms")}].concat(M()((t||[]).map((function(e){return{value:e.id,label:e.name}}))));return Object(c.createElement)("ul",{className:"sensei-lms-quiz-block__questions-modal__filters"},Object(c.createElement)("li",null,Object(c.createElement)(T.SelectControl,{options:u,value:n["question-type"],onChange:a("question-type",0)})),Object(c.createElement)("li",null,Object(c.createElement)(T.SelectControl,{options:b,value:n["question-category"],onChange:a("question-category",0)})),Object(c.createElement)("li",null,Object(c.createElement)(st,{className:"sensei-lms-quiz-block__questions-modal__search-input",placeholder:Object(l.__)("Search questions","sensei-lms"),iconRight:rt,value:s,onChange:a("search",400)})))},ct=function(e){var t=e.clientId,n=e.questionCategories,r=e.filters,s=e.selectedQuestionIds,i=e.setSelectedQuestionIds,a=Object(b.useSelect)((function(e){return e("core/block-editor").getBlocks(t)})).map((function(e){var t;return null===(t=e.attributes)||void 0===t?void 0:t.id})),u=Object(b.useSelect)((function(e){return e("core").getEntityRecords("postType","question",o()({per_page:100},Object(w.omitBy)(r,(function(e){return""===e}))))}),[r]);if(!u||!n)return Object(c.createElement)("div",{className:"sensei-lms-quiz-block__questions-modal__questions sensei-lms-quiz-block__questions-modal__questions--loading"},Object(c.createElement)(T.Spinner,null));u=u.filter((function(e){return!a.includes(e.id)}));var m=Object(w.keyBy)(n,"id"),d=u.length>0&&u.every((function(e){return s.includes(e.id)})),p=function(e){return function(t){i(t?function(t){return[].concat(M()(t),[e])}:function(t){return t.filter((function(t){return t!==e}))})}};return Object(c.createElement)("div",{className:"sensei-lms-quiz-block__questions-modal__questions"},Object(c.createElement)("table",{className:"sensei-lms-quiz-block__questions-modal__table"},Object(c.createElement)("thead",null,Object(c.createElement)("tr",null,Object(c.createElement)("th",{className:"sensei-lms-quiz-block__questions-modal__question-checkbox"},Object(c.createElement)(T.CheckboxControl,{title:Object(l.__)("Toggle all visible questions selection.","sensei-lms"),checked:d,onChange:function(e){var t=u.map((function(e){return e.id}));i((function(n){return e?Object(w.uniq)([].concat(M()(n),M()(t))):n.filter((function(e){return!t.includes(e)}))}))}})),Object(c.createElement)("th",null,Object(l.__)("Question","sensei-lms")),Object(c.createElement)("th",null,Object(l.__)("Type","sensei-lms")),Object(c.createElement)("th",null,Object(l.__)("Category","sensei-lms")))),Object(c.createElement)("tbody",null,0===u.length?Object(c.createElement)("tr",null,Object(c.createElement)("td",{colSpan:"4"},Object(c.createElement)("p",null,Object(l.__)("No questions found.","sensei-lms")))):u.map((function(e){var t,n=null===(t=be[e["question-type-slug"]])||void 0===t?void 0:t.title,r=e["question-category"].map((function(e){var t;return null===(t=m[e])||void 0===t?void 0:t.name})).join(", "),o=e.id,i=e.title.raw;return Object(c.createElement)("tr",{key:e.id},Object(c.createElement)("td",null,Object(c.createElement)(T.CheckboxControl,{id:"question-".concat(o),title:i,checked:s.includes(o),onChange:p(o)})),Object(c.createElement)("td",{className:"sensei-lms-quiz-block__questions-modal__question-title"},Object(c.createElement)("label",{htmlFor:"question-".concat(o),title:i},i)),Object(c.createElement)("td",null,n),Object(c.createElement)("td",null,r))})))))},it=function(e){var t=e.selectedQuestionIds,n=e.setSelectedQuestionIds,r=e.onAdd,s=e.closeModal,o=e.setErrorAddingSelected,i=Object(c.useState)(!1),a=v()(i,2),u=a[0],b=a[1],m=0===t.length?Object(l.__)("Add Selected","sensei-lms"):Object(l.sprintf)(Object(l.__)("Add Selected (%s)","sensei-lms"),t.length);return Object(c.createElement)("ul",{className:"sensei-lms-quiz-block__questions-modal__actions"},t.length>0&&Object(c.createElement)("li",null,Object(c.createElement)(T.Button,{isTertiary:!0,onClick:function(){n([])}},Object(l.__)("Clear Selected","sensei-lms"))),Object(c.createElement)("li",null,Object(c.createElement)(T.Button,{disabled:u,onClick:function(){b(!0),r(t).then(s).catch((function(){o(!0),b(!1)}))},isPrimary:!0},m)))},lt=function(e){var t=e.clientId,n=e.onClose,r=function(e){var t=Object(b.select)("core/block-editor").getBlocks(e),n=Object(b.useDispatch)("core/block-editor").insertBlock,r=tt(e);return function(s){var o=s.filter((function(e){return 0===t.length||!We(t,{id:e})}));if(0===o.length)return Promise.resolve({});var c=r;return Ae()({path:"/sensei-internal/v1/question-options?question_ids="+o.join(","),method:"GET"}).then((function(t){Array.isArray(t)&&t.length>0&&t.forEach((function(t){n(Ue(t),c,e,!1),c++}))}))}}(t),s=Object(c.useState)({search:"","question-type":"","question-category":""}),o=v()(s,2),i=o[0],a=o[1],u=Object(c.useState)(!1),m=v()(u,2),d=m[0],p=m[1],f=Object(c.useState)([]),O=v()(f,2),j=O[0],h=O[1],g=Re(),_=v()(g,1)[0];return Object(c.createElement)(T.Modal,{className:"sensei-lms-quiz-block__questions-modal",title:Object(l.__)("Questions","sensei-lms"),onRequestClose:n},d&&Object(c.createElement)(T.Notice,{status:"error",isDismissible:!1,className:"sensei-lms-quiz-block__questions-modal__notice"},Object(l.__)("Unable to add the selected question(s). Please make sure you are still logged in and try again.","sensei-lms")),Object(c.createElement)(ot,{questionCategories:_,filters:i,setFilters:a}),Object(c.createElement)(ct,{clientId:t,questionCategories:_,filters:i,selectedQuestionIds:j,setSelectedQuestionIds:h}),Object(c.createElement)(it,{selectedQuestionIds:j,setSelectedQuestionIds:h,onAdd:r,closeModal:n,setErrorAddingSelected:p}))},at=function(e){var t=e.attributes.options,n=void 0===t?{}:t,r=e.setAttributes,s=e.clientId,a=n.passRequired,u=void 0!==a&&a,m=n.quizPassmark,d=void 0===m?100:m,p=n.autoGrade,f=void 0===p||p,v=n.allowRetakes,O=void 0===v||v,j=n.randomQuestionOrder,h=void 0!==j&&j,g=n.showQuestions,_=void 0===g?null:g,w=function(e){return function(t){return r({options:o()(o()({},n),{},E()({},e,t))})}},k=Object(b.useSelect)((function(e){return e("core/block-editor").getBlock(s).innerBlocks.filter((function(e){return!Ye(e.attributes)}))}),[s]).reduce((function(e,t){return e+("category-question"===t.attributes.type?t.attributes.options.number:1)}),0);return Object(c.useEffect)((function(){_>k&&r({options:o()(o()({},n),{},{showQuestions:k})})}),[n,k,r,_]),Object(c.createElement)(i.InspectorControls,null,Object(c.createElement)(T.PanelBody,{title:Object(l.__)("Quiz Settings","sensei-lms"),initialOpen:!0},Object(c.createElement)(T.PanelRow,null,Object(c.createElement)(T.ToggleControl,{checked:u,onChange:w("passRequired"),label:Object(l.__)("Pass Required","sensei-lms")})),u&&Object(c.createElement)(T.PanelRow,null,Object(c.createElement)(T.RangeControl,{label:"Passing Grade (%)",value:d,onChange:w("quizPassmark"),min:0,max:100,initialPosition:100})),Object(c.createElement)(T.PanelRow,null,Object(c.createElement)(T.ToggleControl,{checked:f,onChange:w("autoGrade"),label:Object(l.__)("Auto Grade","sensei-lms"),help:Object(l.__)("Automatically grade Multiple Choice, True/False and Gap Fill questions that have a non-zero point value.","sensei-lms")})),Object(c.createElement)(T.PanelRow,null,Object(c.createElement)(T.ToggleControl,{checked:O,onChange:w("allowRetakes"),label:Object(l.__)("Allow Retakes","sensei-lms")})),Object(c.createElement)(T.PanelRow,null,Object(c.createElement)(T.ToggleControl,{checked:h,onChange:w("randomQuestionOrder"),label:Object(l.__)("Random Question Order","sensei-lms")})),Object(c.createElement)(T.PanelRow,null,Object(c.createElement)(oe.a,{id:"sensei-quiz-settings-show-questions",label:Object(l.__)("Number of Questions","sensei-lms"),help:Object(l.__)("Display a random selection of questions.","sensei-lms"),allowReset:!0,resetLabel:Object(l.__)("All","sensei-lms"),min:0,max:k,step:1,value:_,placeholder:Object(l.__)("All","sensei-lms"),onChange:w("showQuestions")}))))},ut=["sensei-lms/quiz-question","sensei-lms/quiz-category-question"],bt=C((function(e){var t=e.clientId;!function(e){var t=e.clientId,n=Object(b.useDispatch)(Ze),r=n.setBlock,s=n.loadStructure;Object(c.useEffect)((function(){r(t),s()}),[r,s,t])}(e),Object(Fe.a)({name:Me.name,selectFirstBlock:!e.attributes.isPostTemplate,isEmptyBlock:Ye},e),function(e){var t="_quiz_has_questions",n=Object(b.useSelect)((function(t){return t("core/block-editor").getBlocks(e).filter((function(e){return!Ye(e.attributes)}))})),r=Object(b.useSelect)((function(e){return{editedValue:e("core/editor").getEditedPostAttribute("meta")[t]}})).editedValue,s=Object(b.useDispatch)("core/editor").editPost,o=Object(c.useCallback)((function(e){return s({meta:E()({},t,e?1:0)})}),[s]);Object(c.useEffect)((function(){!r&&n.length&&o(!0),r&&!n.length&&o(!1)}),[n.length,r,o]),Object(c.useEffect)((function(){return function(){o(!1)}}),[o])}(t);var n=Object(c.useState)(!1),r=v()(n,2),s=r[0],o=r[1],a=Object(c.useCallback)((function(){return Object(c.createElement)(nt,{clientId:t,openModal:function(){return o(!0)}})}),[t]);return Object(c.createElement)(c.Fragment,null,Object(c.createElement)($e,e),Object(c.createElement)("div",{className:"sensei-lms-quiz-block__separator"},Object(c.createElement)("span",null,Object(l.__)("Lesson Quiz","sensei-lms"))),Object(c.createElement)(i.InnerBlocks,{allowedBlocks:ut,templateInsertUpdatesSelection:!1,renderAppender:a}),s&&Object(c.createElement)(lt,{clientId:t,onClose:function(){return o(!1)}}),Object(c.createElement)("div",{className:"sensei-lms-quiz-block__separator"}),Object(c.createElement)(at,e))})),mt=n(89),dt=[o()(o()({},mt),{},{title:Object(l.__)("Quiz","sensei-lms"),icon:De,description:Object(l.__)("Evaluate progress and strengthen understanding of course concepts.","sensei-lms"),keywords:[Object(l.__)("Exam","sensei-lms"),Object(l.__)("Questions","sensei-lms"),Object(l.__)("Test","sensei-lms"),Object(l.__)("Assessment","sensei-lms"),Object(l.__)("Evaluation","sensei-lms")],providesContext:{"sensei-lms/quizId":"id"},example:{innerBlocks:[{name:"sensei-lms/quiz-question",attributes:{title:Object(l.__)("First Example Question","sensei-lms")}},{name:"sensei-lms/quiz-question",attributes:{title:Object(l.__)("Second Example Question","sensei-lms")}}]},edit:bt,save:function(){return Object(c.createElement)(i.InnerBlocks.Content,null)}}),Me,Qe];Object(r.a)(dt)},,,,,,,,,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var o=n(0);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=function(e){var t=e.icon,n=e.size,i=void 0===n?24:n,l=s(e,["icon","size"]);return Object(o.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:i,height:i},l))}}]);